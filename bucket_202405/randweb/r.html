<!DOCTYPE html>
<html lang='en'>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'    />
<meta name='viewport' content='width=device-width, initial-scale=1.0' />

<title>random numbers</title>

<style>
    body { font-family: monospace; font-size: 130%; }
</style>

<script src='/opt/kwynn/js/utils.js'></script>

<script>
    
    onDOMLoad(() => { 
        doAllRand();
    });
    
    function doAllRand() {
        new rnsweb2022Main();
        new r20();
    }
    
    class r20 {
        constructor() {
            this.do10();
        }
        
        do10() {
            this.ther = [];
            for(let i=0; i < 2; i++) {
                const r = this.ther[i] = getr();
                inht('resp' + ((i + 2) * 10), r);
            }
        }
    }
    
    function getr ()      { return parseInt(Math.ceil(Math.random() * 100)); }
    function heads(n)     { return n <= 50 ? true : false; }
    function  getrmax(mx) { return parseInt(Math.ceil(Math.random() * mx));   }
    
    class rnsweb2022Main {
  
        getr ( ) { return getr()  ; }
        heads(n) { return heads(n); }
        getrmax(mx) { return getrmax(mx);  }
        
        constructor() {
            this.doN = 10;
            this.setRand();
            this.disp();
        }

        disp() {
             const pe = byid('resp10');

            pe.innerHTML = '';

            for (let i=0; i < 7; i++) {
                const e = cree('div');
                const r = this.ther[i];
                e.innerHTML = this.qual10(i); //  + ' (' + r + ')';
                e.style.fontWeight = this.fw(i);
                if (i > 0 && this.theh[0]) e.style.paddingLeft = '6ex';
                pe.append(e);
            }           
        }
        
        fw(i) {
            if (i === 0) return 'bold';
            if (i === 4 && this.dopu()) return 'bold';
            return 'normal';
        }
        

        
        qual10(i) {
            const r = this.ther[i];
            const h = this.theh[i];

           switch(i) {
               case 0 : return h ? 'heads' : 'tails'; break;
               case 1 : return h ? 'gpg'   : 'hill' ; break;
               case 2 : const hr = parseInt(Math.ceil(r * 12 / 100)); return hr + ' hr'; break;
               case 3 : return r + '%'; break;
               case 4 : return this.dopu() ? 'do' : 'not'; break;
               case 5 : return h ? 'noo' : 'tree'; break;
               case 6 : return this.getpun(this.theh[5]); break;
            }
        }

        dopu() {
           if (this.theh[1] === false) return true;
           return !this.theh[4];
        }

        setRand() {
            this.ther = [];
            this.theh = [];
            for (let i=0; i < this.doN; i++) {
                const r = this.getr();
                this.ther.push(r);
                const h = this.heads(r);
                this.theh.push(h);
            }
        }
        
        getpun(h) { return h ? this.getrmax(2000) : this.getrmax(300); }
    }
</script>

</head>
<body>
    <div><button onclick='doAllRand();'>rand</button></div>
    <div id='resp10'></div>
    <div style='margin-top: 2ex;' >
    <div id='resp20'></div>
    <div id='resp30'></div>
    </div>
</body>
</html>
