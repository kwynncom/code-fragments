<!DOCTYPE html>
<html lang='en'>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'    />
<meta name='viewport' content='width=device-width, initial-scale=1.0' />

<title>map / Leaflet test</title>


<script src='/opt/kwynn/js/utils.js'></script>

<link rel="stylesheet" href="/opt/leaflet/leaflet.css" 
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />

<script src="/opt/leaflet/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>

<script>
    var KWG_MAPU;
</script>
   
<script src='map.js'></script>
<script src='geo.js'></script>

<style>
    
input:invalid { background-color: lightSalmon; }
    
html, body, #mappar {
    height: 100%;
    width: 100%;
    position: relative;
    margin-top: 0;
    padding-top: 0;
}
    
    
#map { 
    height: 85%;
    width: inherit;
    position: absolute;
    bottom: 0.8em;
}

#llipar {
    position: absolute;
    bottom: 0.5em;
    font-family: monospace;
    left: 50%;
    transform: translate(-50%, 0);
}

#lligp { 
    position: absolute;
    height: 14%;
    width: 100%;
    font-size: 0;
    top: 0;
    padding-top: 0;
    margin-top: 0;
    display: inline-block;
}
#latlone { 
        line-height: 3.2vh;
        font-size: 3vh; 
        padding-top: 0.2ex;
        padding-bottom: 0.5ex;
        display: inline-block;
        width: 25ex;
        text-align: center;
}

#rmp {
    position: absolute;
    top: 0.2em;
/*    font-family: monospace; */
    font-size: 0;
    /* left: 50%; */
    width: 100%;
    margin-top: 0;
    padding-top: 0;
    top: 0;
    text-align: center;
}

#namei {
    width: 6em;     
}

#rmbtn { margin-left: 2em; margin-top: 0.7em; }

button { 
    display: inline-block; 
    font-size: 3vh;
}
.instr10 { font-size: 3vh; margin-top: 0.2ex; text-align: center; }
.orGPS   { font-size: 3vh;  }

body { font-family: sans-serif; }

</style>

<script>
    function locSessF(lleid, formeid, formid) {
        const ll = byid(lleid).innerHTML;
        byid(formeid).value = ll;
        byid(formid).submit();
    }
</script>

</head>
<body>
    <div id='mappar'>
        <div id='lligp'>
            <div class='instr10'>click / touch map to set point or <button class='orGPS' onclick='geoFindMe();'>GPS</button></div>
            <div id='rmp' style='display: none'>
                <form id='locForm10' style='display: none' method='post' action='/t/22/03/sess/sesssrv.php'>
                    <input type='hidden' name='latlonssForm' id='latlonssForm' />
                </form>
                <button id='saveb' disabled='disabled' onclick='locSessF("latlone", "latlonssForm", "locForm10");'>save / manage</button>
                <button id='rmbtn' disabled='disabled'>remove</button>
                <button style='margin-left: 3ex; ' onclick='geoFindMe();'>GPS</button>
            </div>
            <div id='llipar'>
                <span id='latlone'></span>
            </div>
        </div>
        <div id='map'></div>
    </div>
</body>
</html>

